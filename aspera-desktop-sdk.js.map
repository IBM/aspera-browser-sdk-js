{"version":3,"file":"aspera-desktop-sdk.js","mappings":"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","sources":["webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/client.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/index.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/interfaces.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/internal.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/models.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/server-and-client.js","webpack://@ibm-aspera/desktop-sdk-js/./node_modules/json-rpc-2.0/dist/server.js","webpack://@ibm-aspera/desktop-sdk-js/webpack/bootstrap","webpack://@ibm-aspera/desktop-sdk-js/webpack/runtime/define property getters","webpack://@ibm-aspera/desktop-sdk-js/webpack/runtime/hasOwnProperty shorthand","webpack://@ibm-aspera/desktop-sdk-js/./src/helpers/helpers.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/constants/messages.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/helpers/ws.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/constants/constants.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/models/aspera-desktop.model.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/helpers/client.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/app/core.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/index.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/app/installer.ts","webpack://@ibm-aspera/desktop-sdk-js/./src/helpers/http.ts"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCClient = void 0;\nvar models_1 = require(\"./models\");\nvar internal_1 = require(\"./internal\");\nvar JSONRPCClient = /** @class */ (function () {\n    function JSONRPCClient(_send, createID) {\n        this._send = _send;\n        this.createID = createID;\n        this.idToResolveMap = new Map();\n        this.id = 0;\n    }\n    JSONRPCClient.prototype._createID = function () {\n        if (this.createID) {\n            return this.createID();\n        }\n        else {\n            return ++this.id;\n        }\n    };\n    JSONRPCClient.prototype.timeout = function (delay, overrideCreateJSONRPCErrorResponse) {\n        var _this = this;\n        if (overrideCreateJSONRPCErrorResponse === void 0) { overrideCreateJSONRPCErrorResponse = function (id) {\n            return (0, models_1.createJSONRPCErrorResponse)(id, internal_1.DefaultErrorCode, \"Request timeout\");\n        }; }\n        var timeoutRequest = function (ids, request) {\n            var timeoutID = setTimeout(function () {\n                ids.forEach(function (id) {\n                    var resolve = _this.idToResolveMap.get(id);\n                    if (resolve) {\n                        _this.idToResolveMap.delete(id);\n                        resolve(overrideCreateJSONRPCErrorResponse(id));\n                    }\n                });\n            }, delay);\n            return request().then(function (result) {\n                clearTimeout(timeoutID);\n                return result;\n            }, function (error) {\n                clearTimeout(timeoutID);\n                return Promise.reject(error);\n            });\n        };\n        var requestAdvanced = function (request, clientParams) {\n            var ids = (!Array.isArray(request) ? [request] : request)\n                .map(function (request) { return request.id; })\n                .filter(isDefinedAndNonNull);\n            return timeoutRequest(ids, function () {\n                return _this.requestAdvanced(request, clientParams);\n            });\n        };\n        return {\n            request: function (method, params, clientParams) {\n                var id = _this._createID();\n                return timeoutRequest([id], function () {\n                    return _this.requestWithID(method, params, clientParams, id);\n                });\n            },\n            requestAdvanced: function (request, clientParams) { return requestAdvanced(request, clientParams); },\n        };\n    };\n    JSONRPCClient.prototype.request = function (method, params, clientParams) {\n        return this.requestWithID(method, params, clientParams, this._createID());\n    };\n    JSONRPCClient.prototype.requestWithID = function (method, params, clientParams, id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var request, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        request = (0, models_1.createJSONRPCRequest)(id, method, params);\n                        return [4 /*yield*/, this.requestAdvanced(request, clientParams)];\n                    case 1:\n                        response = _a.sent();\n                        if (response.result !== undefined && !response.error) {\n                            return [2 /*return*/, response.result];\n                        }\n                        else if (response.result === undefined && response.error) {\n                            return [2 /*return*/, Promise.reject(new models_1.JSONRPCErrorException(response.error.message, response.error.code, response.error.data))];\n                        }\n                        else {\n                            return [2 /*return*/, Promise.reject(new Error(\"An unexpected error occurred\"))];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JSONRPCClient.prototype.requestAdvanced = function (requests, clientParams) {\n        var _this = this;\n        var areRequestsOriginallyArray = Array.isArray(requests);\n        if (!Array.isArray(requests)) {\n            requests = [requests];\n        }\n        var requestsWithID = requests.filter(function (request) {\n            return isDefinedAndNonNull(request.id);\n        });\n        var promises = requestsWithID.map(function (request) {\n            return new Promise(function (resolve) { return _this.idToResolveMap.set(request.id, resolve); });\n        });\n        var promise = Promise.all(promises).then(function (responses) {\n            if (areRequestsOriginallyArray || !responses.length) {\n                return responses;\n            }\n            else {\n                return responses[0];\n            }\n        });\n        return this.send(areRequestsOriginallyArray ? requests : requests[0], clientParams).then(function () { return promise; }, function (error) {\n            requestsWithID.forEach(function (request) {\n                _this.receive((0, models_1.createJSONRPCErrorResponse)(request.id, internal_1.DefaultErrorCode, (error && error.message) || \"Failed to send a request\"));\n            });\n            return promise;\n        });\n    };\n    JSONRPCClient.prototype.notify = function (method, params, clientParams) {\n        var request = (0, models_1.createJSONRPCNotification)(method, params);\n        this.send(request, clientParams).then(undefined, function () { return undefined; });\n    };\n    JSONRPCClient.prototype.send = function (payload, clientParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._send(payload, clientParams)];\n            });\n        });\n    };\n    JSONRPCClient.prototype.rejectAllPendingRequests = function (message) {\n        this.idToResolveMap.forEach(function (resolve, id) {\n            return resolve((0, models_1.createJSONRPCErrorResponse)(id, internal_1.DefaultErrorCode, message));\n        });\n        this.idToResolveMap.clear();\n    };\n    JSONRPCClient.prototype.receive = function (responses) {\n        var _this = this;\n        if (!Array.isArray(responses)) {\n            responses = [responses];\n        }\n        responses.forEach(function (response) {\n            var resolve = _this.idToResolveMap.get(response.id);\n            if (resolve) {\n                _this.idToResolveMap.delete(response.id);\n                resolve(response);\n            }\n        });\n    };\n    return JSONRPCClient;\n}());\nexports.JSONRPCClient = JSONRPCClient;\nvar isDefinedAndNonNull = function (value) {\n    return value !== undefined && value !== null;\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./client\"), exports);\n__exportStar(require(\"./interfaces\"), exports);\n__exportStar(require(\"./models\"), exports);\n__exportStar(require(\"./server\"), exports);\n__exportStar(require(\"./server-and-client\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultErrorCode = void 0;\nexports.DefaultErrorCode = 0;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createJSONRPCNotification = exports.createJSONRPCRequest = exports.createJSONRPCSuccessResponse = exports.createJSONRPCErrorResponse = exports.JSONRPCErrorCode = exports.JSONRPCErrorException = exports.isJSONRPCResponses = exports.isJSONRPCResponse = exports.isJSONRPCRequests = exports.isJSONRPCRequest = exports.isJSONRPCID = exports.JSONRPC = void 0;\nexports.JSONRPC = \"2.0\";\nvar isJSONRPCID = function (id) {\n    return typeof id === \"string\" || typeof id === \"number\" || id === null;\n};\nexports.isJSONRPCID = isJSONRPCID;\nvar isJSONRPCRequest = function (payload) {\n    return (payload.jsonrpc === exports.JSONRPC &&\n        payload.method !== undefined &&\n        payload.result === undefined &&\n        payload.error === undefined);\n};\nexports.isJSONRPCRequest = isJSONRPCRequest;\nvar isJSONRPCRequests = function (payload) {\n    return Array.isArray(payload) && payload.every(exports.isJSONRPCRequest);\n};\nexports.isJSONRPCRequests = isJSONRPCRequests;\nvar isJSONRPCResponse = function (payload) {\n    return (payload.jsonrpc === exports.JSONRPC &&\n        payload.id !== undefined &&\n        (payload.result !== undefined || payload.error !== undefined));\n};\nexports.isJSONRPCResponse = isJSONRPCResponse;\nvar isJSONRPCResponses = function (payload) {\n    return Array.isArray(payload) && payload.every(exports.isJSONRPCResponse);\n};\nexports.isJSONRPCResponses = isJSONRPCResponses;\nvar createJSONRPCError = function (code, message, data) {\n    var error = { code: code, message: message };\n    if (data != null) {\n        error.data = data;\n    }\n    return error;\n};\nvar JSONRPCErrorException = /** @class */ (function (_super) {\n    __extends(JSONRPCErrorException, _super);\n    function JSONRPCErrorException(message, code, data) {\n        var _this = _super.call(this, message) || this;\n        // Manually set the prototype to fix TypeScript issue:\n        // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(_this, JSONRPCErrorException.prototype);\n        _this.code = code;\n        _this.data = data;\n        return _this;\n    }\n    JSONRPCErrorException.prototype.toObject = function () {\n        return createJSONRPCError(this.code, this.message, this.data);\n    };\n    return JSONRPCErrorException;\n}(Error));\nexports.JSONRPCErrorException = JSONRPCErrorException;\nvar JSONRPCErrorCode;\n(function (JSONRPCErrorCode) {\n    JSONRPCErrorCode[JSONRPCErrorCode[\"ParseError\"] = -32700] = \"ParseError\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InvalidRequest\"] = -32600] = \"InvalidRequest\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"MethodNotFound\"] = -32601] = \"MethodNotFound\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InvalidParams\"] = -32602] = \"InvalidParams\";\n    JSONRPCErrorCode[JSONRPCErrorCode[\"InternalError\"] = -32603] = \"InternalError\";\n})(JSONRPCErrorCode = exports.JSONRPCErrorCode || (exports.JSONRPCErrorCode = {}));\nvar createJSONRPCErrorResponse = function (id, code, message, data) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        error: createJSONRPCError(code, message, data),\n    };\n};\nexports.createJSONRPCErrorResponse = createJSONRPCErrorResponse;\nvar createJSONRPCSuccessResponse = function (id, result) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        result: result !== null && result !== void 0 ? result : null,\n    };\n};\nexports.createJSONRPCSuccessResponse = createJSONRPCSuccessResponse;\nvar createJSONRPCRequest = function (id, method, params) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        id: id,\n        method: method,\n        params: params,\n    };\n};\nexports.createJSONRPCRequest = createJSONRPCRequest;\nvar createJSONRPCNotification = function (method, params) {\n    return {\n        jsonrpc: exports.JSONRPC,\n        method: method,\n        params: params,\n    };\n};\nexports.createJSONRPCNotification = createJSONRPCNotification;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCServerAndClient = void 0;\nvar models_1 = require(\"./models\");\nvar JSONRPCServerAndClient = /** @class */ (function () {\n    function JSONRPCServerAndClient(server, client, options) {\n        if (options === void 0) { options = {}; }\n        var _a;\n        this.server = server;\n        this.client = client;\n        this.errorListener = (_a = options.errorListener) !== null && _a !== void 0 ? _a : console.warn;\n    }\n    JSONRPCServerAndClient.prototype.applyServerMiddleware = function () {\n        var _a;\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        (_a = this.server).applyMiddleware.apply(_a, middlewares);\n    };\n    JSONRPCServerAndClient.prototype.hasMethod = function (name) {\n        return this.server.hasMethod(name);\n    };\n    JSONRPCServerAndClient.prototype.addMethod = function (name, method) {\n        this.server.addMethod(name, method);\n    };\n    JSONRPCServerAndClient.prototype.addMethodAdvanced = function (name, method) {\n        this.server.addMethodAdvanced(name, method);\n    };\n    JSONRPCServerAndClient.prototype.timeout = function (delay) {\n        return this.client.timeout(delay);\n    };\n    JSONRPCServerAndClient.prototype.request = function (method, params, clientParams) {\n        return this.client.request(method, params, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.requestAdvanced = function (jsonRPCRequest, clientParams) {\n        return this.client.requestAdvanced(jsonRPCRequest, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.notify = function (method, params, clientParams) {\n        this.client.notify(method, params, clientParams);\n    };\n    JSONRPCServerAndClient.prototype.rejectAllPendingRequests = function (message) {\n        this.client.rejectAllPendingRequests(message);\n    };\n    JSONRPCServerAndClient.prototype.receiveAndSend = function (payload, serverParams, clientParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!((0, models_1.isJSONRPCResponse)(payload) || (0, models_1.isJSONRPCResponses)(payload))) return [3 /*break*/, 1];\n                        this.client.receive(payload);\n                        return [3 /*break*/, 4];\n                    case 1:\n                        if (!((0, models_1.isJSONRPCRequest)(payload) || (0, models_1.isJSONRPCRequests)(payload))) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.server.receive(payload, serverParams)];\n                    case 2:\n                        response = _a.sent();\n                        if (response) {\n                            return [2 /*return*/, this.client.send(response, clientParams)];\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        message = \"Received an invalid JSON-RPC message\";\n                        this.errorListener(message, payload);\n                        return [2 /*return*/, Promise.reject(new Error(message))];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return JSONRPCServerAndClient;\n}());\nexports.JSONRPCServerAndClient = JSONRPCServerAndClient;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCServer = void 0;\nvar models_1 = require(\"./models\");\nvar internal_1 = require(\"./internal\");\nvar createParseErrorResponse = function () {\n    return (0, models_1.createJSONRPCErrorResponse)(null, models_1.JSONRPCErrorCode.ParseError, \"Parse error\");\n};\nvar createInvalidRequestResponse = function (request) {\n    return (0, models_1.createJSONRPCErrorResponse)((0, models_1.isJSONRPCID)(request.id) ? request.id : null, models_1.JSONRPCErrorCode.InvalidRequest, \"Invalid Request\");\n};\nvar createMethodNotFoundResponse = function (id) {\n    return (0, models_1.createJSONRPCErrorResponse)(id, models_1.JSONRPCErrorCode.MethodNotFound, \"Method not found\");\n};\nvar JSONRPCServer = /** @class */ (function () {\n    function JSONRPCServer(options) {\n        if (options === void 0) { options = {}; }\n        var _a;\n        this.mapErrorToJSONRPCErrorResponse = defaultMapErrorToJSONRPCErrorResponse;\n        this.nameToMethodDictionary = {};\n        this.middleware = null;\n        this.errorListener = (_a = options.errorListener) !== null && _a !== void 0 ? _a : console.warn;\n    }\n    JSONRPCServer.prototype.hasMethod = function (name) {\n        return !!this.nameToMethodDictionary[name];\n    };\n    JSONRPCServer.prototype.addMethod = function (name, method) {\n        this.addMethodAdvanced(name, this.toJSONRPCMethod(method));\n    };\n    JSONRPCServer.prototype.toJSONRPCMethod = function (method) {\n        return function (request, serverParams) {\n            var response = method(request.params, serverParams);\n            return Promise.resolve(response).then(function (result) {\n                return mapResultToJSONRPCResponse(request.id, result);\n            });\n        };\n    };\n    JSONRPCServer.prototype.addMethodAdvanced = function (name, method) {\n        var _a;\n        this.nameToMethodDictionary = __assign(__assign({}, this.nameToMethodDictionary), (_a = {}, _a[name] = method, _a));\n    };\n    JSONRPCServer.prototype.receiveJSON = function (json, serverParams) {\n        var request = this.tryParseRequestJSON(json);\n        if (request) {\n            return this.receive(request, serverParams);\n        }\n        else {\n            return Promise.resolve(createParseErrorResponse());\n        }\n    };\n    JSONRPCServer.prototype.tryParseRequestJSON = function (json) {\n        try {\n            return JSON.parse(json);\n        }\n        catch (_a) {\n            return null;\n        }\n    };\n    JSONRPCServer.prototype.receive = function (request, serverParams) {\n        if (Array.isArray(request)) {\n            return this.receiveMultiple(request, serverParams);\n        }\n        else {\n            return this.receiveSingle(request, serverParams);\n        }\n    };\n    JSONRPCServer.prototype.receiveMultiple = function (requests, serverParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var responses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.all(requests.map(function (request) { return _this.receiveSingle(request, serverParams); }))];\n                    case 1:\n                        responses = (_a.sent()).filter(isNonNull);\n                        if (responses.length === 1) {\n                            return [2 /*return*/, responses[0]];\n                        }\n                        else if (responses.length) {\n                            return [2 /*return*/, responses];\n                        }\n                        else {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JSONRPCServer.prototype.receiveSingle = function (request, serverParams) {\n        return __awaiter(this, void 0, void 0, function () {\n            var method, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        method = this.nameToMethodDictionary[request.method];\n                        if (!!(0, models_1.isJSONRPCRequest)(request)) return [3 /*break*/, 1];\n                        return [2 /*return*/, createInvalidRequestResponse(request)];\n                    case 1: return [4 /*yield*/, this.callMethod(method, request, serverParams)];\n                    case 2:\n                        response = _a.sent();\n                        return [2 /*return*/, mapResponse(request, response)];\n                }\n            });\n        });\n    };\n    JSONRPCServer.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        if (this.middleware) {\n            this.middleware = this.combineMiddlewares(__spreadArray([\n                this.middleware\n            ], middlewares, true));\n        }\n        else {\n            this.middleware = this.combineMiddlewares(middlewares);\n        }\n    };\n    JSONRPCServer.prototype.combineMiddlewares = function (middlewares) {\n        if (!middlewares.length) {\n            return null;\n        }\n        else {\n            return middlewares.reduce(this.middlewareReducer);\n        }\n    };\n    JSONRPCServer.prototype.middlewareReducer = function (prevMiddleware, nextMiddleware) {\n        return function (next, request, serverParams) {\n            return prevMiddleware(function (request, serverParams) { return nextMiddleware(next, request, serverParams); }, request, serverParams);\n        };\n    };\n    JSONRPCServer.prototype.callMethod = function (method, request, serverParams) {\n        var _this = this;\n        var callMethod = function (request, serverParams) {\n            if (method) {\n                return method(request, serverParams);\n            }\n            else if (request.id !== undefined) {\n                return Promise.resolve(createMethodNotFoundResponse(request.id));\n            }\n            else {\n                return Promise.resolve(null);\n            }\n        };\n        var onError = function (error) {\n            _this.errorListener(\"An unexpected error occurred while executing \\\"\".concat(request.method, \"\\\" JSON-RPC method:\"), error);\n            return Promise.resolve(_this.mapErrorToJSONRPCErrorResponseIfNecessary(request.id, error));\n        };\n        try {\n            return (this.middleware || noopMiddleware)(callMethod, request, serverParams).then(undefined, onError);\n        }\n        catch (error) {\n            return onError(error);\n        }\n    };\n    JSONRPCServer.prototype.mapErrorToJSONRPCErrorResponseIfNecessary = function (id, error) {\n        if (id !== undefined) {\n            return this.mapErrorToJSONRPCErrorResponse(id, error);\n        }\n        else {\n            return null;\n        }\n    };\n    return JSONRPCServer;\n}());\nexports.JSONRPCServer = JSONRPCServer;\nvar isNonNull = function (value) { return value !== null; };\nvar noopMiddleware = function (next, request, serverParams) { return next(request, serverParams); };\nvar mapResultToJSONRPCResponse = function (id, result) {\n    if (id !== undefined) {\n        return (0, models_1.createJSONRPCSuccessResponse)(id, result);\n    }\n    else {\n        return null;\n    }\n};\nvar defaultMapErrorToJSONRPCErrorResponse = function (id, error) {\n    var _a;\n    var message = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : \"An unexpected error occurred\";\n    var code = internal_1.DefaultErrorCode;\n    var data;\n    if (error instanceof models_1.JSONRPCErrorException) {\n        code = error.code;\n        data = error.data;\n    }\n    return (0, models_1.createJSONRPCErrorResponse)(id, code, message, data);\n};\nvar mapResponse = function (request, response) {\n    if (response) {\n        return response;\n    }\n    else if (request.id !== undefined) {\n        return (0, models_1.createJSONRPCErrorResponse)(request.id, models_1.JSONRPCErrorCode.InternalError, \"Internal error\");\n    }\n    else {\n        return null;\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Generates promise object that can be resolved or rejected via functions\n *\n * @returns an object containing the promise, the resolver and rejecter\n */\nexport var generatePromiseObjects = function () {\n    var resolver;\n    var rejecter;\n    var promise = new Promise(function (resolve, reject) {\n        resolver = resolve;\n        rejecter = reject;\n    });\n    return {\n        promise: promise,\n        resolver: resolver,\n        rejecter: rejecter\n    };\n};\n/**\n * Log errors from Aspera Desktop SDK\n *\n * @param message the message indicating the error encountered\n * @param debugData the data with useful debugging information\n */\nexport var errorLog = function (message, debugData) {\n    if (debugData && debugData.code && debugData.message) {\n        debugData = {\n            code: debugData.code,\n            message: debugData.message,\n            data: debugData.data\n        };\n    }\n    if (typeof window === 'object') {\n        if (!Array.isArray(window.asperaDesktopLogs)) {\n            window.asperaDesktopLogs = [];\n        }\n        window.asperaDesktopLogs.push({ message: message, debugData: debugData });\n    }\n    console.warn(\"Aspera Desktop SDK: \".concat(message), debugData);\n};\n/**\n * Generate error object for rejecter responses\n *\n * @param message the message indicating the error encountered\n * @param debugData the data with useful debugging information\n *\n * @returns object containing standardized error response\n */\nexport var generateErrorBody = function (message, debugData) {\n    var errorResponse = {\n        error: true,\n        message: message\n    };\n    if (debugData && debugData.code && debugData.message) {\n        errorResponse.debugData = {\n            code: debugData.code,\n            message: debugData.message,\n            data: debugData.data\n        };\n    }\n    return errorResponse;\n};\n/**\n * Validate if transferSpec is valid for server communication\n *\n * @param transferSpec the transferSpec to test\n *\n * @returns boolean indicating whether supplied transferSpec is valid\n */\nexport var isValidTransferSpec = function (transferSpec) {\n    if (transferSpec &&\n        typeof transferSpec === 'object' &&\n        typeof transferSpec.direction === 'string' &&\n        typeof transferSpec.remote_host === 'string' &&\n        Array.isArray(transferSpec.paths)) {\n        return true;\n    }\n    return false;\n};\n/**\n * Returns a string indicating the websocket URL to use for talking to the server\n *\n * @returns a string of the full Websocket URL\n */\nexport var getWebsocketUrl = function (serverUrl) {\n    var wsProtocol;\n    if (serverUrl.indexOf('http:') === 0) {\n        wsProtocol = 'ws';\n    }\n    else if (serverUrl.indexOf('https:') === 0) {\n        wsProtocol = 'wss';\n    }\n    var url = serverUrl.replace('http://', '//').replace('https://', '//');\n    return \"\".concat(wsProtocol, \":\").concat(url);\n};\n/**\n * Simple function to get the current platform.\n *\n * @returns a string indicating the current platform\n */\nexport var getCurrentPlatform = function () {\n    var ua = navigator.userAgent;\n    if (/Mac/.test(ua)) {\n        return 'macos';\n    }\n    else if (/Win/.test(ua)) {\n        return 'windows';\n    }\n    else if (/Linux/.test(ua)) {\n        return 'linux';\n    }\n    else {\n        return 'unknown';\n    }\n};\n/**\n * Function used to create a random UUID\n *\n * @returns string\n */\nexport var randomUUID = function () {\n    var _a;\n    var fallback = function () {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Number(((new Date().getTime() + 16) * Math.random()).toFixed()) % 16;\n            if (c !== 'x') {\n                // eslint-disable-next-line no-bitwise\n                r = r & 0x3 | 0x8;\n            }\n            return r.toString(16);\n        });\n    };\n    return ((_a = window.crypto) === null || _a === void 0 ? void 0 : _a.randomUUID) ? window.crypto.randomUUID() : fallback();\n};\n/**\n * Return a rejected promise\n *\n * @param message the message indicating the error encountered\n * @param debugData the data with useful debugging information\n *\n * @returns a rejected promise\n */\nexport var throwError = function (message, debugData) {\n    errorLog(message, debugData);\n    return new Promise(function (resolve, reject) {\n        reject(generateErrorBody(message, debugData));\n    });\n};\n/**\n * Check if the given string is a valid URL\n *\n * @param url string to check if valid URL\n *\n * @returns boolean\n */\nexport var isValidURL = function (url) {\n    try {\n        new URL(url);\n        return true;\n    }\n    catch (error) {\n        return false;\n    }\n};\nexport default {\n    generatePromiseObjects: generatePromiseObjects,\n    errorLog: errorLog,\n    generateErrorBody: generateErrorBody,\n    isValidTransferSpec: isValidTransferSpec,\n    getWebsocketUrl: getWebsocketUrl,\n    getCurrentPlatform: getCurrentPlatform,\n    randomUUID: randomUUID,\n    throwError: throwError,\n    isValidURL: isValidURL,\n};\n","/** @ignore */\nexport var messages = {\n    callbackIsNotFunction: 'The provided callback is not a function',\n    dragDropInitFailed: 'Unable to initialize drag-drop',\n    failedToGenerateIframe: 'Unable to generate IFRAME for download. Using new window',\n    getInstallerError: 'Unable to get latest installers',\n    getAllTransfersFailed: 'Unable to get all transfers',\n    getTransferFailed: 'Unable to get transfer',\n    invalidEndpoint: 'The specified endpoint is not a valid URL',\n    loadingProtocol: 'Launching IBM Aspera for Desktop',\n    notValidTransferSpec: 'The supplied transferSpec is not valid',\n    removeTransferFailed: 'Unable to remove transfer',\n    serverError: 'Unable to connect to IBM Aspera Desktop server',\n    serverNotVerified: 'IBM Aspera Desktop has not been verified. Run test or init first',\n    setBrandingFailed: 'Unable to set custom branding',\n    showDirectoryFailed: 'Unable to show transfer directory',\n    showSelectFileDialogFailed: 'Unable to show select file dialog',\n    showSelectFolderDialogFailed: 'Unable to show select folder dialog',\n    showPreferencesFailed: 'Unable to show preferences',\n    stopTransferFailed: 'Unable to stop transfer',\n    resumeTransferFailed: 'Unable to resume transfer',\n    modifyTransferFailed: 'Unable to modify transfer',\n    transferFailed: 'The transfer failed to initiate',\n    unableToFindElementOnPage: 'Unable to find the element on the current page',\n    unableToReadDropped: 'The dropped item could not be parsed. Please try selecting via the select file/folder option',\n    websocketClosedError: 'The websocket was closed due to an error',\n    websocketClosedUnexpect: 'The websocket was closed unexpectedly',\n    websocketNotReady: 'The websocket is not ready. Run init first',\n};\n","import { messages } from '../constants/messages';\nimport { errorLog, generatePromiseObjects } from './helpers';\nvar WebsocketService = /** @class */ (function () {\n    function WebsocketService() {\n        var _this = this;\n        /** A map of requested subscription names and the callback for them */\n        this.sockets = new Map();\n        /** Indicator if the websocket is already closed to avoid multiples for same event. */\n        this.hasClosed = false;\n        /** Indicator if restart in process to avoid multiples */\n        this.restartingWebsocket = false;\n        /** Global promise object that resolves when init completes */\n        this.initPromise = generatePromiseObjects();\n        /**\n         * This function handles when a connection is opened\n         */\n        this.handleOpen = function () {\n            _this.restartingWebsocket = false;\n            _this.joinChannel();\n            if (typeof _this.eventListener === 'function') {\n                _this.hasClosed = false;\n                _this.eventListener('RECONNECT');\n            }\n        };\n        /**\n         * This function handles completed subscription\n         */\n        this.handleClosed = function () {\n            _this.restartingWebsocket = false;\n            if (!_this.hasClosed && typeof _this.eventListener === 'function') {\n                _this.hasClosed = true;\n                _this.eventListener('CLOSED');\n            }\n            _this.handleDisconnect();\n        };\n        /**\n         * This function handles errors received from the websocket\n         */\n        this.handleError = function () {\n            errorLog(messages.websocketClosedError);\n            _this.restartingWebsocket = false;\n        };\n        /**\n         * This function handles messages received from the websocket\n         */\n        this.handleMessage = function (message) {\n            _this.restartingWebsocket = false;\n            var data = JSON.parse(message.data);\n            // Message we get on subscription\n            if (data.id === 1) {\n                _this.initPromise.resolver(data);\n                return;\n            }\n            var socket = _this.sockets.get(data.method);\n            if (socket && data.params) {\n                socket(data.params);\n            }\n        };\n    }\n    /** Log call for not being ready */\n    WebsocketService.prototype.handleNotReady = function () {\n        errorLog(messages.websocketNotReady);\n    };\n    /**\n     * This function attempts to reconnect on error\n     */\n    WebsocketService.prototype.handleDisconnect = function () {\n        var _this = this;\n        if (!this.globalSocket) {\n            this.handleNotReady();\n            return;\n        }\n        if (!this.restartingWebsocket) {\n            this.restartingWebsocket = true;\n            setTimeout(function () {\n                _this.globalSocket.close();\n                _this.init(_this.websocketUrl, _this.appId);\n            }, 3000);\n        }\n    };\n    /**\n     * This function joins the channel to be able to subscribe to events\n     */\n    WebsocketService.prototype.joinChannel = function () {\n        if (!this.globalSocket) {\n            this.handleNotReady();\n            return;\n        }\n        this.globalSocket.send(JSON.stringify({ jsonrpc: '2.0', method: 'subscribe_transfer_activity', params: [this.appId], id: 1 }));\n    };\n    /**\n     * This function registers clients to listen to a certain message name. Returns any to allow functions to declare proper type\n     *\n     * @param messageName - the name of messages to listen to (one message name per subscription)\n     */\n    WebsocketService.prototype.registerMessage = function (messageName, callback) {\n        if (!this.sockets.get(messageName)) {\n            this.sockets.set(messageName, function (data) {\n                callback(data.result);\n            });\n        }\n    };\n    /**\n     *\n     * @param callback This function registers clients to a certain WebSocket event.\n     *\n     * @param callback - the callback function to call with the event name.\n     */\n    WebsocketService.prototype.registerEvent = function (callback) {\n        this.eventListener = callback;\n    };\n    /**\n     * This function starts the websocket subscription with the websocket provider\n     *\n     * @param socketUrl - the websocket URL to use\n     *\n     * @returns a promise that resolves when the websocket connection is established\n     */\n    WebsocketService.prototype.init = function (socketUrl, appId) {\n        this.websocketUrl = socketUrl;\n        this.appId = appId;\n        this.globalSocket = new WebSocket(this.websocketUrl);\n        this.globalSocket.onerror = this.handleError;\n        this.globalSocket.onclose = this.handleClosed;\n        this.globalSocket.onopen = this.handleOpen;\n        this.globalSocket.onmessage = this.handleMessage;\n        return this.initPromise.promise;\n    };\n    return WebsocketService;\n}());\nexport { WebsocketService };\nexport var websocketService = new WebsocketService();\nexport default WebsocketService;\n","/** @ignore */\nexport var hiddenStyleList = \"\\n  display: none !important;\\n  width: 1px !important;\\n  height: 1px !important;\\n  position: fixed !important;\\n  z-index: -99 !important;\\n  bottom: 0px !important;\\n  right: 0px !important;\\n\";\n/** @ignore */\nexport var protocol = 'aspera://';\n","import { errorLog } from '../helpers/helpers';\nimport { websocketService } from '../helpers/ws';\nimport { hiddenStyleList, protocol } from '../constants/constants';\nimport { messages } from '../constants/messages';\nvar DesktopGlobals = /** @class */ (function () {\n    function DesktopGlobals() {\n        /** The URL of the IBM Aspera Desktop HTTP server to use with the SDK */\n        this.desktopUrl = 'http://127.0.0.1:33024';\n        /** The default URL to check for latest Aspera Desktop installers */\n        this.installerUrl = 'https://d3gcli72yxqn2z.cloudfront.net/downloads/desktop/latest/stable';\n        /** Indication that the server has been verified as working */\n        this.desktopVerified = false;\n        /** Map of dropzones created by querySelector */\n        this.dropzonesCreated = new Map();\n    }\n    DesktopGlobals.prototype.backupLaunchMethod = function (url) {\n        window.alert(messages.loadingProtocol);\n        window.location.href = url;\n    };\n    /**\n     * Launch the IBM Aspera Desktop via protocol url. By default a hidden IFRAME attempts to\n     * open the app but if that fails a fallback of opening a new window happens.\n     */\n    DesktopGlobals.prototype.launch = function () {\n        var _this = this;\n        try {\n            var element = document.createElement('iframe');\n            element.src = protocol;\n            element.onerror = function (error) {\n                errorLog(messages.failedToGenerateIframe, error);\n                _this.backupLaunchMethod(protocol);\n            };\n            element.setAttribute('style', hiddenStyleList);\n            document.body.appendChild(element);\n        }\n        catch (error) {\n            errorLog(messages.failedToGenerateIframe, error);\n            this.backupLaunchMethod(protocol);\n        }\n    };\n    return DesktopGlobals;\n}());\nvar DesktopInfo = /** @class */ (function () {\n    function DesktopInfo() {\n    }\n    return DesktopInfo;\n}());\nexport { DesktopInfo };\nvar TransferResponse = /** @class */ (function () {\n    function TransferResponse() {\n    }\n    return TransferResponse;\n}());\nexport { TransferResponse };\nvar ActivityMessage = /** @class */ (function () {\n    function ActivityMessage() {\n    }\n    return ActivityMessage;\n}());\nexport { ActivityMessage };\nvar ActivityTracking = /** @class */ (function () {\n    function ActivityTracking() {\n        /** Map of callbacks that receive transfer update events */\n        this.activity_callbacks = new Map();\n        /** Map of callbacks that received removed transfer events */\n        this.removed_callbacks = new Map();\n        /** Map of callbacks that receive connection events */\n        this.event_callbacks = new Map();\n    }\n    /**\n     * Notify all consumers when a message is received from the websocket\n     *\n     * @param data the data received from the websocket\n     */\n    ActivityTracking.prototype.handleTransferActivity = function (message) {\n        if (message.type === 'transferUpdated') {\n            this.activity_callbacks.forEach(function (callback) {\n                if (typeof callback === 'function') {\n                    callback(message.data);\n                }\n            });\n        }\n        if (message.type === 'transferRemoved') {\n            this.removed_callbacks.forEach(function (callback) {\n                if (typeof callback === 'function') {\n                    callback(message.data);\n                }\n            });\n        }\n        ;\n    };\n    /**\n     * Notify all consumers when a connection event occurs. For example, when the SDK\n     * websocket connection to IBM Aspera Desktop is closed or reconnected.\n     *\n     * @param event the event type.\n     */\n    ActivityTracking.prototype.handleWebSocketEvents = function (event) {\n        this.event_callbacks.forEach(function (callback) {\n            if (typeof callback === 'function') {\n                callback(event);\n            }\n        });\n    };\n    /**\n     * Set up the websocket connection to IBM Aspera Desktop\n     *\n     * @param url websocket URL\n     *\n     * @returns a promise that resolves when the websocket connection is established.\n     * Currently this promise does not reject.\n     */\n    ActivityTracking.prototype.setup = function (url, appId) {\n        var _this = this;\n        return websocketService.init(url, appId)\n            .then(function (response) {\n            websocketService.registerMessage('transfer_activity', function (data) { return _this.handleTransferActivity(data); });\n            websocketService.registerEvent(function (status) { return _this.handleWebSocketEvents(status); });\n            return response;\n        });\n    };\n    /**\n     * Register a callback for getting transfers back to the consumer\n     *\n     * @param callback the function to call with the array of transfers\n     *\n     * @returns the ID of the callback index\n     */\n    ActivityTracking.prototype.setCallback = function (callback) {\n        if (typeof callback !== 'function') {\n            errorLog(messages.callbackIsNotFunction);\n            return;\n        }\n        var id = \"callback-\".concat(this.activity_callbacks.size + 1);\n        this.activity_callbacks.set(id, callback);\n        return id;\n    };\n    /**\n     * Remove the callback (deregister) from the list of callbacks\n     *\n     * @param id the string of the callback to remove\n     */\n    ActivityTracking.prototype.removeCallback = function (id) {\n        this.activity_callbacks.delete(id);\n    };\n    /**\n     * Register a callback for getting transfers back to the consumer\n     *\n     * @param callback the function to call with the array of transfers\n     *\n     * @returns the ID of the callback index\n     */\n    ActivityTracking.prototype.setRemovedCallback = function (callback) {\n        if (typeof callback !== 'function') {\n            errorLog(messages.callbackIsNotFunction);\n            return;\n        }\n        var id = \"callback-\".concat(this.removed_callbacks.size + 1);\n        this.removed_callbacks.set(id, callback);\n        return id;\n    };\n    /**\n     * Remove the callback (deregister) from the list of callbacks\n     *\n     * @param id the string of the callback to remove\n     */\n    ActivityTracking.prototype.removeRemovedCallback = function (id) {\n        this.removed_callbacks.delete(id);\n    };\n    /**\n     * Register a callback for getting websocket events back to the consumer\n     *\n     * @param callback the function to call with the websocket event\n     *\n     * @returns the ID of the callback index\n     */\n    ActivityTracking.prototype.setWebSocketEventCallback = function (callback) {\n        if (typeof callback !== 'function') {\n            errorLog(messages.callbackIsNotFunction);\n            return;\n        }\n        var id = \"callback-\".concat(this.event_callbacks.size + 1);\n        this.event_callbacks.set(id, callback);\n        return id;\n    };\n    /**\n     * Remove the callback (deregister) from the list of callbacks\n     *\n     * @param id the string of the callback to remove\n     */\n    ActivityTracking.prototype.removeWebSocketEventCallback = function (id) {\n        this.event_callbacks.delete(id);\n    };\n    return ActivityTracking;\n}());\nexport { ActivityTracking };\nvar Desktop = /** @class */ (function () {\n    function Desktop() {\n        /** Global information about IBM Aspera Desktop */\n        this.globals = new DesktopGlobals();\n        /** Activity tracking for watching transfers */\n        this.activityTracking = new ActivityTracking();\n    }\n    Object.defineProperty(Desktop.prototype, \"isReady\", {\n        /**\n         * Check if IBM Aspera Desktop is ready to be used and has been verified.\n         *\n         * @returns a boolean indicating if SDK can be used for requests\n         */\n        get: function () {\n            return this.globals.desktopVerified && this.globals.appId !== '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Desktop;\n}());\nexport { Desktop };\n;\n","import { JSONRPCClient } from 'json-rpc-2.0';\nimport { asperaDesktop } from '../index';\nimport { generatePromiseObjects } from './helpers';\n/**\n * Wraps a promise like object and returns a promise that supports catch.\n *\n * @param promise the HTTP promise like to wrap\n *\n * @returns promise for the HTTP connection with catch supporting error\n */\nexport var handlePromiseLikeErrors = function (promise) {\n    var promiseInfo = generatePromiseObjects();\n    promise.then(function (response) {\n        promiseInfo.resolver(response);\n    }, function (error) {\n        promiseInfo.rejecter(error);\n    });\n    return promiseInfo.promise;\n};\n/**\n * JSON RPC client using HTTP (fetch) as transport.\n */\nvar HttpClient = /** @class */ (function () {\n    function HttpClient() {\n        var _this = this;\n        /**\n         * Request handler for the JSON-RPC client. This function is called by the JSON-RPC library\n         * after forming the RPC request.\n         *\n         * @param request JSON-RPC request to send to the server\n         */\n        this.handleRequest = function (request) {\n            var options = {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json',\n                },\n                body: JSON.stringify(request),\n            };\n            return fetch(asperaDesktop.globals.desktopUrl, options).then(function (response) {\n                if (response.ok) {\n                    return response.json().then(function (rpcResponse) { return _this.client.receive(rpcResponse); });\n                }\n                else if (request.id !== undefined) {\n                    throw Promise.reject(new Error(response.statusText));\n                }\n            });\n        };\n        this.request = function (method, data) {\n            return _this.client.request(method, data);\n        };\n        this.client = new JSONRPCClient(this.handleRequest);\n    }\n    return HttpClient;\n}());\n/**\n * Client used for making requests to Aspera Desktop.\n */\nvar Client = /** @class */ (function () {\n    function Client() {\n        var _this = this;\n        this.request = function (method, data) {\n            if (data === void 0) { data = {}; }\n            return handlePromiseLikeErrors(_this.httpClient.request(method, data));\n        };\n        this.httpClient = new HttpClient();\n    }\n    ;\n    return Client;\n}());\nexport var client = new Client();\nexport default {\n    client: client,\n    handlePromiseLikeErrors: handlePromiseLikeErrors,\n};\n","import { asperaDesktop } from '../index';\nimport { client } from '../helpers/client';\nimport { errorLog, generateErrorBody, generatePromiseObjects, getWebsocketUrl, isValidTransferSpec, randomUUID, throwError } from '../helpers/helpers';\nimport { messages } from '../constants/messages';\n/**\n * Check if IBM Aspera Desktop connection works. This function is called by init\n * when initializing the SDK. This function can be used at any point for checking.\n *\n * @returns a promise that resolves if server can connect or rejects if not\n */\nexport var testDesktopConnection = function () {\n    return client.request('get_info')\n        .then(function (data) {\n        asperaDesktop.globals.desktopInfo = data;\n        asperaDesktop.globals.desktopVerified = true;\n        return data;\n    });\n};\n/**\n * Initialize drag and drop.\n *\n * @returns a promise that resolves if the initialization was successful or not\n */\nexport var initDragDrop = function () {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    client.request('init_drag_drop')\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.dragDropInitFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.dragDropInitFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Initialize websocket connection to IBM Aspera Desktop. This function only resolves\n * if the websocket connection is successful. It will attempt to reconnnect indefinitely.\n *\n * @returns a promise that resolves if the websocket connection is successful\n */\nexport var initWebSocketConnection = function () {\n    return asperaDesktop.activityTracking.setup(getWebsocketUrl(asperaDesktop.globals.desktopUrl), asperaDesktop.globals.appId)\n        .then(function () { return testDesktopConnection(); })\n        .then(function () { return initDragDrop(); });\n};\n/**\n * Initialize IBM Aspera Desktop client. If client cannot (reject/catch), then\n * client should attempt fixing server URL or trying again. If still fails disable UI elements.\n *\n * @param appId the unique ID for the website. Transfers initiated during this session\n * will be associated with this ID. It is recommended to use a unique ID to keep transfer\n * information private from other websites.\n *\n * @returns a promise that resolves if IBM Aspera Desktop is running properly or\n * rejects if unable to connect\n */\nexport var initDesktop = function (appId) {\n    asperaDesktop.globals.appId = appId ? appId : randomUUID();\n    return initWebSocketConnection()\n        .catch(function (error) {\n        errorLog(messages.serverError, error);\n        asperaDesktop.globals.desktopVerified = false;\n        return generateErrorBody(messages.serverError, error);\n    });\n};\n/**\n * Start a transfer\n *\n * @param transferSpec standard transferSpec for transfer\n * @param desktopSpec IBM Aspera Desktop settings when starting a transfer\n *\n * @returns a promise that resolves if transfer initiation is successful and rejects if transfer cannot be started\n */\nexport var startTransfer = function (transferSpec, desktopSpec) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    if (!isValidTransferSpec(transferSpec)) {\n        return throwError(messages.notValidTransferSpec, { transferSpec: transferSpec });\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_spec: transferSpec,\n        desktop_spec: desktopSpec,\n        app_id: asperaDesktop.globals.appId,\n    };\n    client.request('start_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.transferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.transferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Register a callback event for getting transfer updates\n *\n * @param callback callback function to receive transfers\n *\n * @returns ID representing the callback for deregistration purposes\n */\nexport var registerActivityCallback = function (callback) {\n    return asperaDesktop.activityTracking.setCallback(callback);\n};\n/**\n * Remove a callback from the transfer callback\n *\n * @param id the ID returned by `registerActivityCallback`\n */\nexport var deregisterActivityCallback = function (id) {\n    asperaDesktop.activityTracking.removeCallback(id);\n};\n/**\n * Register a callback event for when a user removes or cancels a transfer\n * directly from IBM Aspera Desktop. This may also be called if IBM Aspera Desktop\n * is configured to automatically remove completed transfers.\n *\n * @param callback callback function to receive transfers\n *\n * @returns ID representing the callback for deregistration purposes\n */\nexport var registerRemovedCallback = function (callback) {\n    return asperaDesktop.activityTracking.setRemovedCallback(callback);\n};\n/**\n * Remove a callback from the removed transfer callback\n *\n * @param id the ID returned by `registerRemovedCallback`\n */\nexport var deregisterRemovedCallback = function (id) {\n    asperaDesktop.activityTracking.removeRemovedCallback(id);\n};\n/**\n * Register a callback for getting updates about the connection status of IBM Aspera Desktop.\n *\n * For example, to be notified of when the SDK loses connection with the application or connection\n * is re-established. This can be useful if you want to handle the case where the user quits IBM Aspera Desktop\n * after `initDesktop` has already been called, and want to prompt the user to relaunch the application.\n *\n * @param callback callback function to receive events\n *\n * @returns ID representing the callback for deregistration purposes\n */\nexport var registerStatusCallback = function (callback) {\n    return asperaDesktop.activityTracking.setWebSocketEventCallback(callback);\n};\n/**\n * Remove a callback from getting connection status events.\n *\n * @param id the ID returned by `registerStatusCallback`\n */\nexport var deregisterStatusCallback = function (id) {\n    asperaDesktop.activityTracking.removeWebSocketEventCallback(id);\n};\n/**\n * Remove a transfer. This will stop the transfer if it is in progress.\n *\n * @param id transfer uuid\n *\n * @returns a promise that resolves if transfer is removed and rejects if transfer cannot be removed\n */\nexport var removeTransfer = function (id) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n    };\n    client.request('remove_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.removeTransferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.removeTransferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Stop a transfer.\n *\n * @param id transfer uuid\n *\n * @returns a promise that resolves if transfer is stopped and rejects if transfer cannot be stopped\n */\nexport var stopTransfer = function (id) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n    };\n    client.request('stop_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.stopTransferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.stopTransferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Resume a paused or failed transfer.\n *\n * @param id transfer uuid\n *\n * @returns a promise that resolves with the new transfer object if transfer is resumed\n */\nexport var resumeTransfer = function (id, options) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n        transfer_spec: options,\n    };\n    client.request('resume_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.resumeTransferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.resumeTransferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Displays a file browser dialog for the user to select files.\n *\n * @param options file dialog options\n *\n * @returns a promise that resolves with the selected file(s) and rejects if user cancels dialog\n */\nexport var showSelectFileDialog = function (options) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        options: options || {},\n        app_id: asperaDesktop.globals.appId,\n    };\n    client.request('show_file_dialog', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.showSelectFileDialogFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.showSelectFileDialogFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Displays a folder browser dialog for the user to select folders.\n *\n * @param options folder dialog options\n *\n * @returns a promise that resolves with the selected folder(s) and rejects if user cancels dialog\n */\nexport var showSelectFolderDialog = function (options) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        options: options || {},\n        app_id: asperaDesktop.globals.appId,\n    };\n    client.request('show_folder_dialog', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.showSelectFolderDialogFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.showSelectFolderDialogFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Opens the IBM Aspera Desktop preferences page.\n *\n * @returns a promise that resolves when the preferences page is opened.\n */\nexport var showPreferences = function () {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    client.request('open_preferences')\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.showPreferencesFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.showPreferencesFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Get all transfers associated with the current application.\n *\n * @returns a promise that resolves with an array of transfers.\n */\nexport var getAllTransfers = function () {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        app_id: asperaDesktop.globals.appId,\n    };\n    client.request('get_all_transfers', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.getAllTransfersFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.getAllTransfersFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Get a specific transfer by ID.\n *\n * @param id transfer uuid\n *\n * @returns a promise that resolves with the transfer.\n */\nexport var getTransfer = function (id) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n    };\n    client.request('get_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.getTransferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.getTransferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Opens and highlights the downloaded file in Finder or Windows Explorer. If multiple files,\n * then only the first file will be selected.\n *\n * @param id transfer uuid\n *\n * @returns a promise that resolves if the file can be shown and rejects if not\n */\nexport var showDirectory = function (id) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n    };\n    client.request('show_directory', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.showDirectoryFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.showDirectoryFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Modify the speed of a running transfer.\n *\n * @param id transfer uuid\n * @param options transfer rate options\n *\n * @returns a promise that resolves if the transfer rate can be modified and rejects if not\n */\nexport var modifyTransfer = function (id, options) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var payload = {\n        transfer_id: id,\n        transfer_spec: options,\n    };\n    client.request('modify_transfer', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.modifyTransferFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.modifyTransferFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Set the custom branding template to be used by IBM Aspera Desktop. If the app is already\n * configured to use a different branding, then the branding template you specify will be\n * stored by the app, allowing the end user to switch at any point.\n *\n * @param id custom branding template id. This should be consistent across page loads.\n * @param options custom branding options\n *\n * @returns a promise that resolves if the branding was properly set.\n */\nexport var setBranding = function (id, options) {\n    if (!asperaDesktop.isReady) {\n        return throwError(messages.serverNotVerified);\n    }\n    var promiseInfo = generatePromiseObjects();\n    var branding = {\n        id: id,\n        name: options.name,\n        theme: options.theme,\n    };\n    var payload = {\n        branding: branding,\n    };\n    client.request('update_branding', payload)\n        .then(function (data) { return promiseInfo.resolver(data); })\n        .catch(function (error) {\n        errorLog(messages.setBrandingFailed, error);\n        promiseInfo.rejecter(generateErrorBody(messages.setBrandingFailed, error));\n    });\n    return promiseInfo.promise;\n};\n/**\n * Create a dropzone for the given element selector.\n *\n * @param callback the function to call once the files are dropped\n * @param elementSelector the selector of the element on the page that should watch for drop events\n */\nexport var createDropzone = function (callback, elementSelector) {\n    var elements = document.querySelectorAll(elementSelector);\n    if (!elements || !elements.length) {\n        errorLog(messages.unableToFindElementOnPage);\n        return;\n    }\n    var dragEvent = function (event) {\n        event.preventDefault();\n    };\n    var dropEvent = function (event) {\n        event.preventDefault();\n        var files = [];\n        if (event.dataTransfer && event.dataTransfer.files && event.dataTransfer.files.length && event.dataTransfer.files[0]) {\n            for (var i = 0; i < event.dataTransfer.files.length; i++) {\n                var file = event.dataTransfer.files[i];\n                files.push({\n                    lastModified: file.lastModified,\n                    name: file.name,\n                    size: file.size,\n                    type: file.type\n                });\n            }\n            var payload = {\n                files: files,\n                app_id: asperaDesktop.globals.appId,\n            };\n            client.request('dropped_files', payload)\n                .then(function (data) { return callback({ event: event, files: data }); })\n                .catch(function (error) {\n                errorLog(messages.unableToReadDropped, error);\n            });\n        }\n    };\n    elements.forEach(function (element) {\n        element.addEventListener('dragover', dragEvent);\n        element.addEventListener('drop', dropEvent);\n        asperaDesktop.globals.dropzonesCreated.set(elementSelector, [{ event: 'dragover', callback: dragEvent }, { event: 'drop', callback: dropEvent }]);\n    });\n};\n/**\n * Remove dropzone.\n *\n * @param elementSelector the selector of the element on the page that should remove\n */\nexport var removeDropzone = function (elementSelector) {\n    var foundDropzone = asperaDesktop.globals.dropzonesCreated.get(elementSelector);\n    if (foundDropzone) {\n        foundDropzone.forEach(function (data) {\n            var elements = document.querySelectorAll(elementSelector);\n            if (elements && elements.length) {\n                elements.forEach(function (element) {\n                    element.removeEventListener(data.event, data.callback);\n                });\n            }\n        });\n    }\n};\n","import { Desktop } from './models/aspera-desktop.model';\nimport { initDesktop, registerActivityCallback, deregisterActivityCallback, startTransfer, testDesktopConnection, removeTransfer, showDirectory, stopTransfer, resumeTransfer, getAllTransfers, getTransfer, registerRemovedCallback, deregisterRemovedCallback, showSelectFileDialog, showSelectFolderDialog, showPreferences, modifyTransfer, createDropzone, removeDropzone, registerStatusCallback, deregisterStatusCallback, initDragDrop, setBranding, } from './app/core';\nimport { getInstallerInfo, } from './app/installer';\nexport var asperaDesktop = new Desktop();\nasperaDesktop.initDesktop = initDesktop;\nasperaDesktop.testDesktopConnection = testDesktopConnection;\nasperaDesktop.startTransfer = startTransfer;\nasperaDesktop.registerActivityCallback = registerActivityCallback;\nasperaDesktop.deregisterActivityCallback = deregisterActivityCallback;\nasperaDesktop.removeTransfer = removeTransfer;\nasperaDesktop.showDirectory = showDirectory;\nasperaDesktop.stopTransfer = stopTransfer;\nasperaDesktop.resumeTransfer = resumeTransfer;\nasperaDesktop.getAllTransfers = getAllTransfers;\nasperaDesktop.getTransfer = getTransfer;\nasperaDesktop.registerRemovedCallback = registerRemovedCallback;\nasperaDesktop.deregisterRemovedCallback = deregisterRemovedCallback;\nasperaDesktop.showSelectFileDialog = showSelectFileDialog;\nasperaDesktop.showSelectFolderDialog = showSelectFolderDialog;\nasperaDesktop.showPreferences = showPreferences;\nasperaDesktop.modifyTransfer = modifyTransfer;\nasperaDesktop.createDropzone = createDropzone;\nasperaDesktop.removeDropzone = removeDropzone;\nasperaDesktop.getInstallerInfo = getInstallerInfo;\nasperaDesktop.registerStatusCallback = registerStatusCallback;\nasperaDesktop.deregisterStatusCallback = deregisterStatusCallback;\nasperaDesktop.initDragDrop = initDragDrop;\nasperaDesktop.setBranding = setBranding;\nvar launch = asperaDesktop.globals.launch;\nasperaDesktop.launch = launch;\nif (typeof window === 'object') {\n    window.asperaDesktop = asperaDesktop;\n}\nexport { initDesktop, testDesktopConnection, startTransfer, launch, registerActivityCallback, deregisterActivityCallback, removeTransfer, showDirectory, stopTransfer, resumeTransfer, getAllTransfers, getTransfer, registerRemovedCallback, deregisterRemovedCallback, showSelectFileDialog, showSelectFolderDialog, showPreferences, modifyTransfer, createDropzone, removeDropzone, getInstallerInfo, registerStatusCallback, deregisterStatusCallback, setBranding, };\nexport default {\n    initDesktop: initDesktop,\n    testDesktopConnection: testDesktopConnection,\n    startTransfer: startTransfer,\n    launch: launch,\n    registerActivityCallback: registerActivityCallback,\n    deregisterActivityCallback: deregisterActivityCallback,\n    removeTransfer: removeTransfer,\n    showDirectory: showDirectory,\n    stopTransfer: stopTransfer,\n    resumeTransfer: resumeTransfer,\n    getAllTransfers: getAllTransfers,\n    getTransfer: getTransfer,\n    registerRemovedCallback: registerRemovedCallback,\n    deregisterRemovedCallback: deregisterRemovedCallback,\n    showSelectFileDialog: showSelectFileDialog,\n    showSelectFolderDialog: showSelectFolderDialog,\n    showPreferences: showPreferences,\n    modifyTransfer: modifyTransfer,\n    createDropzone: createDropzone,\n    removeDropzone: removeDropzone,\n    getInstallerInfo: getInstallerInfo,\n    registerStatusCallback: registerStatusCallback,\n    deregisterStatusCallback: deregisterStatusCallback,\n    setBranding: setBranding,\n};\n","import { asperaDesktop } from '../index';\nimport { errorLog, generateErrorBody, generatePromiseObjects, getCurrentPlatform, isValidURL, throwError } from '../helpers/helpers';\nimport { apiGet } from '../helpers/http';\nimport { messages } from '../constants/messages';\n/**\n * Get the latest Aspera for Desktop installer information such as download URL and version.\n *\n * @param options Installer info options\n *\n * @returns a promise that resolves with the installer info and rejects if there is an error\n */\nexport var getInstallerInfo = function (options) {\n    if (options === void 0) { options = {}; }\n    var url = options.endpoint || asperaDesktop.globals.installerUrl;\n    if (url.endsWith('/latest.json')) {\n        url = url.replace('/latest.json', '');\n    }\n    if (!isValidURL(url)) {\n        return throwError(messages.invalidEndpoint, { url: url });\n    }\n    var promiseInfo = generatePromiseObjects();\n    apiGet(\"\".concat(url, \"/latest.json\")).then(function (response) {\n        response.json().then(function (data) {\n            if (options.endpoint) {\n                for (var _i = 0, _a = data.entries; _i < _a.length; _i++) {\n                    var entry = _a[_i];\n                    if (!isValidURL(entry.url)) {\n                        entry.url = \"\".concat(options.endpoint, \"/\").concat(entry.url);\n                    }\n                }\n            }\n            if (options.all) {\n                promiseInfo.resolver(data);\n            }\n            else {\n                var platform_1 = getCurrentPlatform();\n                data.entries = data.entries.filter(function (entry) { return entry.platform === platform_1; });\n                promiseInfo.resolver(data);\n            }\n        });\n    }).catch(function (error) {\n        errorLog(messages.getInstallerError, error);\n        promiseInfo.rejecter(generateErrorBody(messages.getInstallerError, error));\n    });\n    return promiseInfo.promise;\n};\n","import { generatePromiseObjects } from './helpers';\n/**\n * Check HTTP promise response for server error response (non 2XX status) and reject promise is error\n *\n * @param promise the HTTP promise to check for HTTP status code of 2XX for success\n *\n * @returns promise for the HTTP connection with catch supporting error\n */\nexport var handlePromiseErrors = function (promise) {\n    var promiseInfo = generatePromiseObjects();\n    promise.then(function (response) {\n        if (response.ok) {\n            promiseInfo.resolver(response);\n        }\n        else {\n            promiseInfo.rejecter(response);\n        }\n        return response;\n    }).catch(function (error) {\n        promiseInfo.rejecter(error);\n    });\n    return promiseInfo.promise;\n};\n/**\n * Make a GET for retrieving data from a server\n *\n * @param url the url string of the resource on the server\n *\n * @returns a promise that will resolve with the response from the server or reject if network/server error\n */\nexport var apiGet = function (url) {\n    return handlePromiseErrors(fetch(url, {\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    }));\n};\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","JSONRPCClient","models_1","internal_1","_send","createID","idToResolveMap","Map","id","prototype","_createID","timeout","delay","overrideCreateJSONRPCErrorResponse","_this","createJSONRPCErrorResponse","DefaultErrorCode","timeoutRequest","ids","request","timeoutID","setTimeout","forEach","get","delete","clearTimeout","error","method","params","clientParams","requestWithID","requestAdvanced","Array","isArray","map","filter","isDefinedAndNonNull","response","_a","createJSONRPCRequest","undefined","JSONRPCErrorException","message","code","data","Error","requests","areRequestsOriginallyArray","requestsWithID","promises","set","promise","all","responses","send","receive","notify","createJSONRPCNotification","payload","rejectAllPendingRequests","clear","__createBinding","create","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","__exportStar","p","hasOwnProperty","extendStatics","__extends","d","b","setPrototypeOf","__proto__","String","__","constructor","createJSONRPCSuccessResponse","JSONRPCErrorCode","isJSONRPCResponses","isJSONRPCResponse","isJSONRPCRequests","isJSONRPCRequest","isJSONRPCID","JSONRPC","jsonrpc","every","createJSONRPCError","_super","toObject","JSONRPCServerAndClient","server","client","options","errorListener","console","warn","applyServerMiddleware","middlewares","_i","arguments","applyMiddleware","hasMethod","name","addMethod","addMethodAdvanced","jsonRPCRequest","receiveAndSend","serverParams","__assign","assign","s","i","__spreadArray","to","from","pack","ar","l","slice","concat","JSONRPCServer","createInvalidRequestResponse","InvalidRequest","mapErrorToJSONRPCErrorResponse","defaultMapErrorToJSONRPCErrorResponse","nameToMethodDictionary","middleware","toJSONRPCMethod","mapResultToJSONRPCResponse","receiveJSON","json","tryParseRequestJSON","ParseError","JSON","parse","receiveMultiple","receiveSingle","isNonNull","callMethod","mapResponse","combineMiddlewares","reduce","middlewareReducer","prevMiddleware","nextMiddleware","onError","mapErrorToJSONRPCErrorResponseIfNecessary","noopMiddleware","MethodNotFound","InternalError","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","definition","key","obj","prop","generatePromiseObjects","resolver","rejecter","errorLog","debugData","window","asperaDesktopLogs","generateErrorBody","errorResponse","throwError","isValidURL","url","URL","messages","websocketService","WebsocketService","sockets","hasClosed","restartingWebsocket","initPromise","handleOpen","joinChannel","eventListener","handleClosed","handleDisconnect","handleError","handleMessage","socket","handleNotReady","globalSocket","close","init","websocketUrl","appId","stringify","registerMessage","messageName","callback","registerEvent","socketUrl","WebSocket","onerror","onclose","onopen","onmessage","protocol","DesktopGlobals","desktopUrl","installerUrl","desktopVerified","dropzonesCreated","backupLaunchMethod","alert","location","href","launch","element","document","createElement","src","setAttribute","appendChild","ActivityTracking","activity_callbacks","removed_callbacks","event_callbacks","handleTransferActivity","type","handleWebSocketEvents","event","setup","status","setCallback","size","removeCallback","setRemovedCallback","removeRemovedCallback","setWebSocketEventCallback","removeWebSocketEventCallback","Desktop","globals","activityTracking","HttpClient","handleRequest","headers","fetch","asperaDesktop","ok","rpcResponse","statusText","httpClient","promiseInfo","testDesktopConnection","desktopInfo","initDragDrop","isReady","catch","initDesktop","crypto","randomUUID","replace","c","r","Number","Date","getTime","Math","random","toFixed","toString","serverUrl","wsProtocol","indexOf","getWebsocketUrl","startTransfer","transferSpec","desktopSpec","direction","remote_host","paths","isValidTransferSpec","transfer_spec","desktop_spec","app_id","registerActivityCallback","deregisterActivityCallback","removeTransfer","transfer_id","showDirectory","stopTransfer","resumeTransfer","getAllTransfers","getTransfer","registerRemovedCallback","deregisterRemovedCallback","showSelectFileDialog","showSelectFolderDialog","showPreferences","modifyTransfer","createDropzone","elementSelector","elements","querySelectorAll","dragEvent","preventDefault","dropEvent","files","dataTransfer","file","lastModified","addEventListener","removeDropzone","foundDropzone","removeEventListener","getInstallerInfo","endpoint","endsWith","apiGet","entries","entry","platform_1","ua","navigator","userAgent","test","platform","registerStatusCallback","deregisterStatusCallback","setBranding","branding","theme"],"sourceRoot":""}